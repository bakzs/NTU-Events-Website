(function(e){function t(t){for(var s,n,o=t[0],l=t[1],d=t[2],m=0,u=[];m<o.length;m++)n=o[m],r[n]&&u.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03e7":function(e,t,a){"use strict";var s=a("af4e"),r=a.n(s);r.a},"154b":function(e,t,a){},"39a7":function(e,t,a){"use strict";var s=a("455b"),r=a.n(s);r.a},"455b":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],n=a("2877"),o={},l=Object(n["a"])(o,r,i,!1,null,null,null);l.options.__file="App.vue";var d=l.exports,c=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-navbar",{attrs:{toggleable:"md",type:"dark",fixed:"top"}},[a("div",{staticClass:"container"},[a("b-navbar-brand",{attrs:{href:"#"}},[e._v("NTUEvents")]),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}})],1),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",{staticClass:"active",attrs:{to:"/main"}},[e._v("Home")]),a("b-nav-item",{attrs:{to:"/login"}},[e._v("Login")]),a("b-nav-item",{attrs:{to:"/register"}},[e._v("Register")]),a("b-nav-item",{attrs:{to:"/user"}},[e._v("User Profile")]),a("b-nav-item",{attrs:{to:"/events"}},[e._v("Events")])],1)],1)],1)]),e._m(0),a("br"),a("section",{staticClass:"upcoming-event"},[a("b-container",[a("h4",[e._v("Upcoming Events")]),a("div",{staticClass:"event-header-item"},[a("div",{staticClass:"event-icon"},[a("i",{staticClass:"fas fa-list fa-lg"}),a("div",{staticClass:"event-icon-name"},[e._v("LIST")])]),a("div",{staticClass:"event-icon"},[a("i",{staticClass:"far fa-calendar fa-lg"}),a("div",{staticClass:"event-icon-name"},[e._v("MONTH")])])]),a("hr")])],1),a("section",{staticClass:"event-list"},[a("b-container",[e._l(e.events,function(t){return[a("div",{key:t.eventId,staticClass:"row event1-item"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"event-panel"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"event-date"},[a("p",{staticClass:"date_mth_day"},[e._v(e._s(t.startDay))]),a("hr",{staticClass:"date-divider"}),a("p",{staticClass:"date_day"},[e._v(e._s(t.startDayWeek))])])]),a("div",{staticClass:"col-md-4"},[a("img",{attrs:{width:"350",height:"256",src:t.imageSource}})]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"event-row event-header"},[e._v(e._s(t.name))]),a("div",{staticClass:"event-detail"},[a("p",{staticClass:"event-location"},[e._v(e._s(t.venue))])]),a("hr"),a("div",{staticClass:"event-row event-desc"},[e._v(e._s(t.description))]),a("b-button",{staticClass:"btn-details",attrs:{href:t.website}},[e._v("\n                    Find out more\n                    "),a("i",{staticClass:"fas fa-arrow-right"})])],1)])])])])]})],2)],1),a("section",{staticClass:"prev-event"},[a("b-container",[a("b-button",{staticClass:"btn-details"},[a("i",{staticClass:"fas fa-arrow-left"}),e._v(" View previous events\n      ")])],1)],1),a("br"),a("footer",{staticClass:"copyright"},[e._v("NTUEvents Â© 2018, All Rights Reserved")])],1)},u=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-cover"},[a("div",{staticClass:"bg-content"},[a("h1",[e._v("EVENTS")]),a("p",{staticClass:"title-body"},[e._v("Need a break? Find the latest events from all clubs and societies in NTU here now!")])])])}],v={data(){return{events:[]}},methods:{getAllEvents(){this.axios.get(this.$hostname+"/api/events").then(e=>{this.events=e.data;for(let t of this.events)t.startDay=this.$moment(new Date(t.startDate)).format("MMM DD"),t.endDay=this.$moment(new Date(t.endDate)).format("MMM DD"),t.startDayWeek=this.$moment(new Date(t.startDate)).format("dddd"),t.endDayWeek=this.$moment(new Date(t.endDate)).format("dddd")}).catch(function(e){console.log(e)})},formatDate(e){let t=this.$moment(e,"YYYY-MM-DD");return t.format("MMM Do YY")}},computed:{},mounted(){this.getAllEvents()}},b=v,f=(a("d969"),Object(n["a"])(b,m,u,!1,null,null,null));f.options.__file="main.vue";var h=f.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"events"},[a("b-container",[a("br"),a("h3",[e._v("My Events")]),a("br"),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.addEditModal",modifiers:{addEditModal:!0}}],staticClass:"float-right",attrs:{type:"submit",variant:"outline-success"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.loadAddModal()}}},[e._v("Add New Event")]),a("br"),a("br"),a("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",fade:"",variant:"success"},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(e._s(e.dismissMessage))]),a("br"),a("b-table",{attrs:{responsive:"",bordered:"",hover:"",items:e.items,fields:e.fields},scopedSlots:e._u([{key:"index",fn:function(t){return[e._v(e._s(t.index+1))]}},{key:"actions",fn:function(t){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.addEditModal",modifiers:{addEditModal:!0}}],staticClass:"btn-block fas fa-edit",attrs:{type:"submit",variant:"outline-warning"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),e.showEventInfo(t.item)}}}),a("br"),a("br"),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteModal",modifiers:{deleteModal:!0}}],staticClass:"btn-block",attrs:{type:"submit",variant:"outline-danger fas fa-trash"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),e.saveEventId(t.item.eventId)}}})]}}])}),a("br"),a("b-modal",{attrs:{id:"deleteModal",size:"sm",title:"Delete Event"},on:{ok:e.deleteEvent}},[e._v("Are you sure that you want to delete this item?")]),a("b-modal",{ref:"addEditModal",attrs:{id:"addEditModal",size:"lg",title:e.modalTitle,"no-close-on-backdrop":!0,"no-close-on-esc":!0},on:{ok:function(t){t.preventDefault(),e.addEditEvent(e.eventInfo,t)},hide:function(t){e.closeModal()}}},[a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"row validateInputs"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"eventNameLbl","invalid-feedback":e.errors.first("Event Name"),state:!e.errors.has("Event Name"),label:"Event Name","label-for":"eventNameTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:10|max:40",expression:"'required|min:10|max:40'"}],attrs:{id:"eventNameTbx",state:!e.errors.has("Event Name"),type:"text",name:"Event Name"},model:{value:e.eventInfo.name,callback:function(t){e.$set(e.eventInfo,"name",t)},expression:"eventInfo.name"}})],1)],1),a("div",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"eventTypeLbl","invalid-feedback":e.errors.first("Event Type"),state:!e.errors.has("Event Type"),label:"Event Type","label-for":"eventTypeTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:5|max:20",expression:"'required|min:5|max:20'"}],attrs:{id:"eventTypeTbx",state:!e.errors.has("Event Type"),type:"text",name:"Event Type"},model:{value:e.eventInfo.type,callback:function(t){e.$set(e.eventInfo,"type",t)},expression:"eventInfo.type"}})],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"startDateLbl","invalid-feedback":e.errors.first("Start Date"),state:!e.errors.has("Start Date"),label:"Start Date","label-for":"startDateDp"}},[a("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY-MM-DD HH:mm|before:endDate",expression:"'required|date_format:YYYY-MM-DD HH:mm|before:endDate'"}],ref:"startDate",class:this.$validator.errors.has("Start Date")?"is-invalid":"is-valid",attrs:{id:"startDateDp",state:!e.errors.has("Start Date"),config:e.options.start,name:"Start Date"},model:{value:e.eventInfo.startDate,callback:function(t){e.$set(e.eventInfo,"startDate",t)},expression:"eventInfo.startDate"}})],1)],1),a("div",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"endDateLbl","invalid-feedback":e.errors.first("End Date"),state:!e.errors.has("End Date"),label:"End Date","label-for":"endDateDp"}},[a("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY-MM-DD HH:mm|after:startDate",expression:"'required|date_format:YYYY-MM-DD HH:mm|after:startDate'"}],ref:"endDate",class:this.$validator.errors.has("End Date")?"is-invalid":"is-valid",attrs:{id:"endDateDp",state:!e.errors.has("End Date"),config:e.options.end,name:"End Date"},model:{value:e.eventInfo.endDate,callback:function(t){e.$set(e.eventInfo,"endDate",t)},expression:"eventInfo.endDate"}})],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"contactLbl","invalid-feedback":e.errors.first("Contact"),state:!e.errors.has("Contact"),label:"Contact","label-for":"contactTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min:8|max:8",expression:"'required|numeric|min:8|max:8'"}],attrs:{id:"contactTbx",state:!e.errors.has("Contact"),type:"text",name:"Contact"},model:{value:e.eventInfo.contact,callback:function(t){e.$set(e.eventInfo,"contact",t)},expression:"eventInfo.contact"}})],1)],1),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"ccaLbl","invalid-feedback":e.errors.first("CCA"),state:!e.errors.has("CCA"),label:"CCA","label-for":"ccaTbx"}},[a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"ccaTbx",options:e.ccaList,state:!e.errors.has("CCA"),name:"CCA"},model:{value:e.eventInfo.ccaId,callback:function(t){e.$set(e.eventInfo,"ccaId",t)},expression:"eventInfo.ccaId"}})],1)],1),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"venueLbl","invalid-feedback":e.errors.first("Venue"),state:!e.errors.has("Venue"),label:"Venue","label-for":"venueTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:5|max:30",expression:"'required|min:5|max:30'"}],attrs:{id:"venueTbx",state:!e.errors.has("Venue"),type:"text",name:"Venue"},model:{value:e.eventInfo.venue,callback:function(t){e.$set(e.eventInfo,"venue",t)},expression:"eventInfo.venue"}})],1)],1),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"quotaLbl","invalid-feedback":e.errors.first("Quota"),state:!e.errors.has("Quota"),label:"Quota","label-for":"quotaTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min:1|max:4",expression:"'required|numeric|min:1|max:4'"}],attrs:{id:"quotaTbx",state:!e.errors.has("Quota"),type:"text",name:"Quota"},model:{value:e.eventInfo.quota,callback:function(t){e.$set(e.eventInfo,"quota",t)},expression:"eventInfo.quota"}})],1)],1)]),a("b-form-group",{attrs:{id:"descriptionLbl",label:"Description","invalid-feedback":e.errors.first("Description"),state:!e.errors.has("Description"),"label-for":"descriptionTbx"}},[a("b-form-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:20|max:120",expression:"'required|min:20|max:120'"}],class:this.$validator.errors.has("Description")?"is-invalid":"is-valid",attrs:{id:"descriptionTbx",state:!e.errors.has("Description"),rows:3,"max-rows":6,"no-resize":!0,name:"Description"},model:{value:e.eventInfo.description,callback:function(t){e.$set(e.eventInfo,"description",t)},expression:"eventInfo.description"}})],1)],1)],1)],1)],1)},w=[],g={data(){return{date:new Date,options:{format:"YYYY-MM-DD HH:mm",useCurrent:!1,start:{format:"YYYY-MM-DD HH:mm",useCurrent:!1,showClear:!0,showClose:!0,maxDate:!1},end:{format:"YYYY-MM-DD HH:mm",useCurrent:!1,showClear:!0,showClose:!0,minDate:!1}},fields:{index:{label:"#"},name:{key:"name",sortable:!0},type:{key:"type",sortable:!0},description:{key:"description"},startDate:{key:"startDate",sortable:!0},endDate:{key:"endDate",sortable:!0},venue:{key:"venue",sortable:!0},quota:{key:"quota",sortable:!0},contact:{key:"contact",sortable:!1},cca:{key:"ccaname",label:"CCA"},actions:{label:"Actions"}},items:[],ccaList:[],selected:null,eventInfo:{},modalTitle:"",addEventState:!1,editEventState:!1,dismissMessage:"",dismissSecs:2,dismissCountDown:0,showDismissibleAlert:!1,okButtonClicked:!1,detailShow:!1}},methods:{insertCCAName(e){for(var t=0;t<this.ccaList.length;t++)e.ccaId==this.ccaList[t].value&&Object.assign(e,{ccaname:this.ccaList[t].text})},countDownChanged(e){this.dismissCountDown=e},loadAddModal(){this.addEventState=!0,this.editEventState=!1,this.eventInfo={},this.modalTitle="Add Event",this.options.showClear=!0,$("#addEditModal").find("*").removeClass("is-valid")},closeModal(){1==this.okButtonClicked?this.okButtonClicked=!1:(this.addEventState=!1,this.editEventState=!1,this.eventInfo={},this.$validator.reset())},showEventInfo(e){this.addEventState=!1,this.editEventState=!0,this.eventInfo=e,this.modalTitle="Edit Event"},saveEventId(e){localStorage.setItem("dltEventId",e)},addEditEvent(e){this.okButtonClicked=!0,this.$validator.validateAll().then(t=>{if(t){var a=e.startDate,s=e.endDate;e.startDate=this.$moment(e.startDate).toISOString(),e.endDate=this.$moment(e.endDate).toISOString(),e.createdBy=this.$route.params.userId,e.createdDate=(new Date).toJSON(),e.isDeleted=0,1==this.addEventState?(e.updatedDate=(new Date).toJSON(),e.updatedBy=this.$route.params.userId,console.log(e),this.axios({method:"post",url:this.$hostname+"/api/events/",data:e,config:{headers:{"Content-Type":"application/json"}}}).catch(e=>{alert("Error encountered while creating events"),console.log(e)}),this.insertCCAName(e),this.items.push(e),this.dismissMessage="Event "+e.name+" created."):1==this.editEventState&&(this.axios({method:"put",url:this.$hostname+"/api/events/"+e.eventId,data:e,config:{headers:{"Content-Type":"application/json"}}}).catch(e=>{alert("Error encountered while editing event"),console.log(e)}),this.dismissMessage="Event: "+e.name+" updated."),e.startDate=a,e.endDate=s,this.eventInfo={},this.dismissCountDown=this.dismissSecs,this.$refs.addEditModal.hide(),this.$validator.reset()}else event.preventDefault()}).catch(()=>{})},deleteEvent(){var e=localStorage.getItem("dltEventId");this.axios({method:"put",url:this.$hostname+"/api/events/"+e+"/delete/"+this.$route.params.userId}).catch(e=>{alert("Error encountered while deleting event"),console.log(e)}),this.dismissMessage="Event deleted.",this.dismissCountDown=this.dismissSecs}},mounted(){this.axios({method:"get",url:this.$hostname+"/api/ccas"}).then(e=>{for(var t=0;t<e.data.length;t++){var a={value:e.data[t].ccaId,text:e.data[t].name};this.ccaList.push(a)}}).catch(e=>{alert("Error encountered while retrieving cca"),console.log(e)}),this.axios({method:"get",url:this.$hostname+"/api/events/createdby/"+this.$route.params.userId}).then(e=>{this.items=e.data;for(let t of this.items)t.startDate=this.$moment(new Date(t.startDate)).format("YYYY-MM-DD HH:mm"),t.endDate=this.$moment(new Date(t.endDate)).format("YYYY-MM-DD HH:mm"),this.insertCCAName(t)}).catch(e=>{alert("Error encountered while retrieving events"),console.log(e)})}},C=g,x=(a("03e7"),Object(n["a"])(C,p,w,!1,null,null,null));x.options.__file="events.vue";var j=x.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("b-container",[a("b-form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("h3",{staticClass:"text-center"},[e._v("NTUEvents")]),a("br"),a("b-alert",{attrs:{id:"loginAlert",variant:"success",show:e.showDismissibleAlert},on:{dismissed:function(t){e.showDismissibleAlert=!1}}},[e._v("Please login again")]),a("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",fade:"",variant:"danger"},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(e._s(e.dismissMessage))]),a("b-form-group",{staticClass:"form-label-group",attrs:{id:"usernameLbl","invalid-feedback":e.errors.first("Username"),state:!e.errors.has("Username"),label:"Username","label-for":"userTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_num|min:5|max:30",expression:"'required|alpha_num|min:5|max:30'"}],attrs:{id:"userTbx",state:!e.errors.has("Username"),type:"text",placeholder:"Enter username",name:"Username"},model:{value:e.input.username,callback:function(t){e.$set(e.input,"username",t)},expression:"input.username"}})],1),a("b-form-group",{staticClass:"form-label-group",attrs:{id:"passwordLbl","invalid-feedback":e.errors.first("Password"),state:!e.errors.has("Password"),label:"Password","label-for":"passwordTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:5|max:50",expression:"'required|min:5|max:50'"}],attrs:{id:"passwordTbx",state:!e.errors.has("Password"),type:"password",placeholder:"Enter password",name:"Password"},model:{value:e.input.password,callback:function(t){e.$set(e.input,"password",t)},expression:"input.password"}})],1),a("br"),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)],1)},E=[],k={name:"Login",data(){return{input:{username:"",password:""},dismissMessage:"",dismissSecs:2,dismissCountDown:0,showDismissibleAlert:!1}},methods:{countDownChanged(e){this.dismissCountDown=e},login(){this.$validator.validateAll().then(e=>{var t=this;e&&this.axios({method:"post",url:this.$hostname+"/api/accounts",data:this.input,config:{headers:{"Content-Type":"application/json"}}}).then(function(e){"200"==e.status&&t.$router.push("/main")})}).catch(()=>{})}},mounted(){$("#userTbx").removeClass("is-valid"),$("#passwordTbx").removeClass("is-valid"),"true"==localStorage.getItem("throwError")&&(this.dismissMessage="The username and / or password is incorrect",this.dismissCountDown=this.dismissSecs,$("#userTbx").removeClass("is-valid").addClass("is-invalid"),$("#passwordTbx").removeClass("is-valid").addClass("is-invalid"),localStorage.setItem("throwError","false")),"true"==localStorage.getItem("loginAlert")&&(this.showDismissibleAlert=!0,localStorage.setItem("loginAlert","false")),this.axios.interceptors.response.use(e=>e,e=>{const t=e.response.status;return 400===t&&(localStorage.setItem("throwError","true"),this.$router.go(this.$hostname)),Promise.reject(e.response)})}},y=k,_=(a("9ce0"),Object(n["a"])(y,D,E,!1,null,null,null));_.options.__file="login.vue";var P=_.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("b-container",[a("br"),a("br"),a("b-form",{staticClass:"register-form col-lg-6"},[a("br"),a("h3",[e._v("Register New Account")]),a("br"),a("b-form-group",{attrs:{id:"nameLbl","invalid-feedback":e.errors.first("Name"),state:!e.errors.has("Name"),label:"Name","label-for":"nameTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_num|min:5|max:30",expression:"'required|alpha_num|min:5|max:30'"}],attrs:{id:"nameTbx",state:!e.errors.has("Name"),name:"Name",type:"text",placeholder:"Enter name"},model:{value:e.userRegistrationForm.Name,callback:function(t){e.$set(e.userRegistrationForm,"Name",t)},expression:"userRegistrationForm.Name"}})],1),a("b-form-group",{attrs:{id:"usernameLbl","invalid-feedback":e.errors.first("Username"),state:!e.errors.has("Username"),label:"Username","label-for":"userTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_num|min:5|max:30",expression:"'required|alpha_num|min:5|max:30'"}],attrs:{id:"userTbx",state:!e.errors.has("Username"),name:"Username",type:"text",placeholder:"Enter username"},model:{value:e.userRegistrationForm.Username,callback:function(t){e.$set(e.userRegistrationForm,"Username",t)},expression:"userRegistrationForm.Username"}})],1),a("b-form-group",{attrs:{id:"emaikLbl","invalid-feedback":e.errors.first("Email"),state:!e.errors.has("Email"),label:"Email","label-for":"emailTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],attrs:{id:"emailTbx",state:!e.errors.has("Email"),name:"Email",type:"email",placeholder:"Enter email"},model:{value:e.userRegistrationForm.Email,callback:function(t){e.$set(e.userRegistrationForm,"Email",t)},expression:"userRegistrationForm.Email"}})],1),a("b-form-group",{attrs:{id:"contactLbl","invalid-feedback":e.errors.first("Contact Number"),state:!e.errors.has("Contact Number"),label:"Contact Number","label-for":"contactTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min:8|max:8",expression:"'required|numeric|min:8|max:8'"}],attrs:{id:"contactTbx",state:!e.errors.has("Contact Number"),name:"Contact Number",type:"text",placeholder:"Enter contact"},model:{value:e.userRegistrationForm.ContactNumber,callback:function(t){e.$set(e.userRegistrationForm,"ContactNumber",t)},expression:"userRegistrationForm.ContactNumber"}})],1),a("b-form-group",{attrs:{id:"passwordLbl","invalid-feedback":e.errors.first("Password"),state:!e.errors.has("Password"),label:"Password","label-for":"passwordTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:12",expression:"'required|min:12'"}],ref:"password",attrs:{id:"passwordTbx",state:!e.errors.has("Password"),name:"Password",type:"password",placeholder:"Enter password"},model:{value:e.userRegistrationForm.Password,callback:function(t){e.$set(e.userRegistrationForm,"Password",t)},expression:"userRegistrationForm.Password"}})],1),a("b-form-group",{attrs:{id:"cfmpasswordLbl","invalid-feedback":e.errors.first("Confirm Password"),state:!e.errors.has("Confirm Password"),label:"Confirm Password","label-for":"cfmpasswordTbx"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:12|confirmed:password",expression:"'required|min:12|confirmed:password'"}],attrs:{id:"cfmpasswordTbx",state:!e.errors.has("Confirm Password"),name:"Confirm Password",type:"password",placeholder:"Confirm password"},model:{value:e.userRegistrationForm.cfmPassword,callback:function(t){e.$set(e.userRegistrationForm,"cfmPassword",t)},expression:"userRegistrationForm.cfmPassword"}})],1),a("br"),a("b-button",{attrs:{variant:"success"},on:{click:e.onRegisterUser}},[e._v("Register")])],1)],1)],1)},T=[],I={data(){return{userRegistrationForm:{Username:"",Name:"",Email:"",ContactNumber:"",Password:"",cfmPassword:""}}},methods:{onRegisterUser(){this.$data.userRegistrationForm.CreatedDate=(new Date).toLocaleString(),this.$validator.validateAll().then(e=>{var t={Username:this.$data.userRegistrationForm.Username,Name:this.$data.userRegistrationForm.Name,Email:this.$data.userRegistrationForm.Email,ContactNumber:this.$data.userRegistrationForm.Contact,Password:this.$data.userRegistrationForm.Password};if(e){var a=this;this.axios({method:"post",url:this.$hostname+"/api/users",data:t}).then(function(e){"201"==e.status&&(localStorage.setItem("loginAlert","true"),a.$router.push("/login"))})}}).catch(()=>{})}},mounted(){$("#nameTbx").removeClass("is-valid"),$("#userTbx").removeClass("is-valid"),$("#emailTbx").removeClass("is-valid"),$("#contactTbx").removeClass("is-valid"),$("#passwordTbx").removeClass("is-valid"),$("#cfmpasswordTbx").removeClass("is-valid")}},M=I,S=(a("ae41"),Object(n["a"])(M,N,T,!1,null,null,null));S.options.__file="register.vue";var q=S.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("br"),a("br"),a("b-container",[a("b-form",{staticClass:"register-form col-lg-7"},[a("b-card",{attrs:{"header-variant":"card_header","bg-variant":"light"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",[e._v("User Profile")])]),e.displayUserProfile?a("b-form",e._l(e.items,function(t){return a("div",{key:t.id},[a("b-alert",{attrs:{show:e.showSuccessAlert,variant:"success"}},[e._v(e._s(e.dismissMessage))]),a("b-row",[a("div",{staticClass:"col-lg-3 col-form-label"},[a("b-form-group",{attrs:{id:"usernameLbl",label:"Username","label-for":"userTbx"}})],1),a("div",{staticClass:"col-lg-9"},[a("b-form-input",{attrs:{id:"userTbx",type:"text",required:"",disabled:!e.canBeEdited,placeholder:"Enter your username"},model:{value:t.username,callback:function(a){e.$set(t,"username",a)},expression:"user.username"}})],1)]),a("b-row",[a("div",{staticClass:"col-lg-3 col-form-label"},[a("b-form-group",{attrs:{id:"nameLbl",label:"Name","label-for":"name"}})],1),a("div",{staticClass:"col-lg-9"},[a("b-form-input",{attrs:{id:"name",type:"text",required:"",disabled:!e.canBeEdited,placeholder:"Enter your name"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"user.name"}})],1)]),a("b-row",[a("div",{staticClass:"col-lg-3 col-form-label"},[a("b-form-group",{attrs:{id:"emaikLbl",label:"Email","label-for":"emailTbx"}})],1),a("div",{staticClass:"col-lg-9"},[a("b-form-input",{attrs:{id:"emailTbx",type:"email",required:"",disabled:!e.canBeEdited,placeholder:"Enter your email"},model:{value:t.email,callback:function(a){e.$set(t,"email",a)},expression:"user.email"}})],1)]),a("b-row",[a("div",{staticClass:"col-lg-3 col-form-label"},[a("b-form-group",{attrs:{id:"contactLbl",label:"Contact Number","label-for":"contactTbx"}})],1),a("div",{staticClass:"col-lg-9"},[a("b-form-input",{attrs:{id:"contactTbx",type:"tel",disabled:!e.canBeEdited,placeholder:"Enter your contact number"},model:{value:t.contactNumber,callback:function(a){e.$set(t,"contactNumber",a)},expression:"user.contactNumber"}})],1)])],1)}),0):e._e(),e.canChangePassword?a("b-form",[a("b-row",[a("div",{staticClass:"col-lg-3 col-form-label"},[a("b-form-group",{attrs:{id:"currentPasswordLbl",label:"Current Password","label-for":"currentPassword"}})],1),a("div",{staticClass:"col-lg-9"},[a("b-form-input",{attrs:{id:"currentPassword",type:"password",required:"",placeholder:"Enter current password"}})],1)]),a("b-row",[a("div",{staticClass:"col-lg-3 col-form-label"},[a("b-form-group",{attrs:{id:"newPasswordLbl",label:"New Password","label-for":"newPassword"}})],1),a("div",{staticClass:"col-lg-9"},[a("b-form-input",{attrs:{id:"newPassword",type:"password",required:"",placeholder:"Enter new password"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)]),a("b-row",[a("div",{staticClass:"col-lg-3 col-form-label"},[a("b-form-group",{attrs:{id:"newPasswordCfmLbl",label:"Confirm New Password","label-for":"newPasswordCfm"}})],1),a("div",{staticClass:"col-lg-9"},[a("b-form-input",{attrs:{id:"newPasswordCfm",type:"password",required:"",placeholder:"Confirm new password"}})],1)])],1):e._e(),a("br"),a("div",{staticClass:"btn-block"},[e.canBeEdited||e.canChangePassword?e._e():a("b-button",{staticClass:"mr-2",attrs:{id:"editProfileBtn",variant:"outline-info"},on:{click:e.onEdit}},[e._v("Edit Profile")]),e.canChangePassword||e.canBeEdited?e._e():a("b-button",{staticClass:"ml-2",attrs:{variant:"outline-danger"},on:{click:e.onChangePassword}},[e._v("Change Password")]),e.canBeEdited&&!e.canChangePassword?a("b-button",{attrs:{variant:"outline-success"},on:{click:e.onSubmitNewUserProfile}},[e._v("Save User Profile")]):e._e(),!e.canBeEdited&&e.canChangePassword?a("b-button",{attrs:{variant:"outline-success"},on:{click:e.onSubmitNewPassword}},[e._v("Save Password")]):e._e(),a("div",{staticClass:"float-right"},[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:e.getBack}},[e._v("Back")])],1)],1)],1)],1)],1)],1)},A=[],L={data(){return{userId:this.$route.params.userId,items:[],displayUserProfile:!0,canBeEdited:!1,canChangePassword:!1,showSuccessAlert:!1,dismissMessage:"",newPassword:""}},methods:{onEdit(){this.showSuccessAlert=!1,this.canBeEdited=!0},onChangePassword(){this.canChangePassword=!0,this.displayUserProfile=!1},onSubmitNewUserProfile(){this.$validator.validateAll().then(e=>{if(this.items.updatedBy=this.userId,this.items.updatedDate=(new Date).toLocaleString(),console.log(this.items),e){var t=this;this.axios({method:"put",url:this.$hostname+"/api/users/"+this.userId,data:this.items[0]}).then(function(e){t.showSuccessAlert=!0,t.canBeEdited=!1,this.dismissMessage="Profile updated!"}).catch(e=>{alert("Error encountered while updating user profile"),console.log(e)})}})},onSubmitNewPassword(){console.log(this.newPassword);var e=this;e.displayUserProfile=!0,e.canChangePassword=!1,e.showSuccessAlert=!0,this.dismissMessage="Password updated!"},getBack(){this.canBeEdited||this.canChangePassword?this.canBeEdited&&!this.canChangePassword?this.canBeEdited=!1:!this.canBeEdited&&this.canChangePassword&&(this.canChangePassword=!1,this.displayUserProfile=!0):this.$router.push("/main")}},mounted(){this.axios.get(this.$hostname+"/api/users/"+this.userId).then(e=>{this.items=e.data}).catch(e=>{alert("Error encountered while retrieving user profile"),console.log(e)})}},U=L,R=(a("39a7"),Object(n["a"])(U,Y,A,!1,null,null,null));R.options.__file="user.vue";var F=R.exports;s["a"].use(c["a"]);var B=new c["a"]({routes:[{name:"default",path:"",component:P},{name:"main",path:"/main",component:h},{name:"events",path:"/events/:userId",component:j},{name:"user",path:"/user/:userId",component:F},{name:"login",path:"/login",component:P},{name:"register",path:"/register",component:q}],mode:"history"}),z=a("9f7b"),O=a("a7fe"),H=a.n(O),V=a("bc3a"),Q=a.n(V),J=a("133f"),W=a.n(J),G=a("1157"),K=a.n(G),X=a("7bb1");a("f9e3"),a("2dd8"),a("ca56"),a("b2a2"),a("8890"),a("6755");s["a"].config.productionTip=!1,s["a"].use(z["a"]),s["a"].use(H.a,Q.a),s["a"].use(a("2ead")),s["a"].use(W.a),s["a"].use(X["a"],{fieldsBagName:"formFields"}),K.a.extend(!0,K.a.fn.datetimepicker.defaults,{icons:{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"fas fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"}}),window.$=window.jQuery=a("1157"),s["a"].prototype.$hostname="https://ntueventsweb.azurewebsites.net",new s["a"]({router:B,render:e=>e(d)}).$mount("#app")},"881d":function(e,t,a){},"9ce0":function(e,t,a){"use strict";var s=a("b377"),r=a.n(s);r.a},ae41:function(e,t,a){"use strict";var s=a("881d"),r=a.n(s);r.a},af4e:function(e,t,a){},b377:function(e,t,a){},d969:function(e,t,a){"use strict";var s=a("154b"),r=a.n(s);r.a}});
//# sourceMappingURL=app.15c375e1.js.map